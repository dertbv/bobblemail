#!/bin/bash

# ATLAS Todo Converter - Convert orchestration sessions to trackable todos
# Usage: ./atlas-create-todos "task description"

if [ -z "$1" ]; then
    echo "Usage: ./atlas-create-todos \"Task description from orchestration session\""
    echo ""
    echo "Creates a todo file for tracking enhanced orchestration progress"
    exit 1
fi

TASK_DESCRIPTION="$1"
TIMESTAMP=$(date +"%Y_%m_%d_%H%M")
TODO_FILE="atlas_todos_$TIMESTAMP.md"

echo "ðŸ“ Creating todo file for: $TASK_DESCRIPTION"

cat > "$TODO_FILE" << EOF
# ATLAS Enhanced Orchestration Todos
**Task**: $TASK_DESCRIPTION  
**Created**: $(date)  
**Session**: $TIMESTAMP

## Phase 1: ATLAS Strategic Planning
- [ ] **Experience-based analysis**: Apply FAANG + startup experience to understand scope
- [ ] **Professional task decomposition**: Break into logical subtasks using engineering best practices  
- [ ] **Quality standards setting**: Apply DEVELOPMENT_BELIEFS.md principles and set acceptance criteria

## Phase 2: ATLAS Systematic Execution  
- [ ] **Context loading**: Review relevant MEMORY/ and WORKING_LOG/ sections
- [ ] **Subtask implementation**: Work through each identified subtask systematically
- [ ] **Progress documentation**: Update FRESH_COMPACT_MEMORY.md with insights and progress
- [ ] **Inter-subtask coordination**: Maintain context between related work pieces

## Phase 3: ATLAS Quality Orchestration
- [ ] **Professional quality evaluation**: Apply accumulated standards to assess work quality
- [ ] **Business value verification**: Ensure solution meets original requirements
- [ ] **Code review preparation**: Stage work and request Boss review with clear context
- [ ] **Iteration if needed**: Refine work if quality doesn't meet professional standards

## Phase 4: ATLAS Learning Integration  
- [ ] **Pattern extraction**: Identify new techniques and approaches for future similar work
- [ ] **Memory system updates**: Update relevant MEMORY/ files with insights and learnings
- [ ] **Working log documentation**: Document high-entropy information and surprising discoveries
- [ ] **Professional growth**: Reflect on how accumulated experience applied to this challenge

---

## Custom Subtasks
*Add your specific subtasks here as you identify them during Phase 1 planning:*

- [ ] 
- [ ] 
- [ ] 

## Notes & Insights
*Capture key insights, decisions, and learnings throughout the process:*

EOF

echo "âœ… Created: $TODO_FILE"
echo "ðŸ’¡ Next steps:"
echo "   1. Open $TODO_FILE in Claude Code"
echo "   2. Add specific subtasks during planning"
echo "   3. Check off items as you complete them"
echo "   4. Use Claude Code's todo tracking features"
